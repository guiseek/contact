<contact-toolbar>
  <a
    mat-icon-button
    class="toolbar-icon"
    matTooltip="Conta de usuÃ¡rio"
    routerLink="/user"
  >
    <mat-icon>account_circle</mat-icon>
  </a>

  <button
    mat-icon-button
    class="toolbar-icon favorite-icon"
    aria-label="Example icon-button with heart icon"
  >
    <mat-icon>favorite</mat-icon>
  </button>

  <button
    mat-icon-button
    mediaQuery
    min="lg"
    class="toolbar-icon"
    aria-label="Example icon-button with share icon"
  >
    <mat-icon>share</mat-icon>
  </button>

  <contact-toolbar-dropdown [user]="authFacade.user$">
  </contact-toolbar-dropdown>
</contact-toolbar>

<main>
  <video autoplay playsinline [srcObject]="peerFacade.remote$ | async"></video>
  <!-- <audio autoplay [srcObject]="peerFacade.remote$ | async"></audio> -->

  <!-- <mat-progress-spinner
    mode="indeterminate"
    *ngIf="(peerFacade.connection$ | async) !== 'connected'"
  ></mat-progress-spinner> -->

  <ng-container *ngIf="peerFacade.local$ | async as localStream">
    <video
      autoplay
      playsinline
      [srcObject]="localStream"
      [muted]="!!localStream"
    ></video>
  </ng-container>
</main>

<mat-toolbar color="primary">
  <button mat-icon-button (click)="openAudioConfig()">
    <mat-icon> mic_external_on </mat-icon>
  </button>
  <button mat-icon-button (click)="openVideoConfig()">
    <mat-icon> mic_external_on </mat-icon>
  </button>

  <!-- <h2>{{ peerFacade.connection$ | async }}</h2> -->
</mat-toolbar>
